<!DOCTYPE html>
<html lang="nl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./favicon-16x16.png">
    <link rel="manifest" href="./manifest.json">
    <meta name="msapplication-TileColor" content="#00808B">
    <meta name="theme-color" content="#00808B">
    <title>Iedereen Mobiel</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css"
        integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.51.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.51.0/mapbox-gl.css' rel='stylesheet' />
    <link href='style/general_style.css' rel='stylesheet' />
    <script src="js/constants.js"></script>
</head>

<body>

    <script>
        function detectIE() {
            var ua = window.navigator.userAgent;

            var msie = ua.indexOf('MSIE ');
            if (msie > 0) {
                // IE 10 or older
                return true;
            }

            var trident = ua.indexOf('Trident/');
            if (trident > 0) {
                // IE 11
                return true;
            }
            return false;
        }

        if (detectIE()) {
            alert("Het programma dat je gebruikt om op het internet te gaan is te oud. Gelieve een andere brower te installeren. We sturen je door...");
            window.location.replace("https://www.mozilla.org/en-US/firefox/new/");
        }
    </script>


    <!-- The bar on top -->
    <div class="container-fluid top-overlay">
        <button class="btn image-button" id="sidebarHamburger" onclick="openSidebar()"></button>
        <div class="row top-overlap-nav">

            <!-- Genk Logo -->
            <div class="col-lg-1 col-md-0" id="top-overlay-center-spacer">
                <img src="logo.svg" class="genk-logo" alt="Iedereen Genkt" height="50vh"></img>
            </div>

            <!-- Input buttons -->
            <div class="col-md-8 col-sm-10" id="top-overlay-input">
                <div class="row inputs-row">
                    <div class="col-lg-5 col-md-12 col-10 currentLocation right-addon location-input-group">
                        <div class="location-circle-container">
                            <img class="svg location-circle" src="assets/img/circle.svg" />
                            <div class="location-circle-centered">A</div>
                        </div>
                        <input class="form-control typeahead geocoder-input" type="text" id="fromInput"
                            placeholder="From" oninput="fromFieldInputDetected(this)">
                        <img id="useLocationInputFieldButton" src="./assets/img/currentLocation.svg"
                            onclick="useCurrentLocation()" />
                        <img id="clearInputFieldFromButton" src="./style/icons/ic_clear_black_24px.svg"
                            onclick="clearInputFieldFrom()" />
                    </div>
                    <div class="col-lg-2 col-md-12 col-1 text-center">
                        <button class="btn btn-warning image-button" id="swap-origin-destination-button"
                            onclick="swapOriginDestination()"></button>
                    </div>
                    <div class="col-lg-5 col-md-12 col-10 right-addon location-input-group">
                        <div class="location-circle-container">
                            <img class="svg location-circle" src="assets/img/circle.svg" />
                            <div class="location-circle-centered">B</div>
                        </div>
                        <input class="form-control typeahead geocoder-input" type="text" id="toInput" placeholder="To"
                            oninput="toFieldInputDetected(this)">
                        <img id="clearInputFieldToButton" src="./style/icons/ic_clear_black_24px.svg"
                            onclick="clearInputFieldTo()" />
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div id='top-overlay-profile-buttons-mobile'>
                <span class="btn btn-lg text-center route" id="network-genk-route-mobile"
                    onclick="sidebarDisplayProfileHtmlId(this.id)">
                    <span>
                        <img class="svg" src="./assets/img/genk-networks.svg" />
                    </span>
                    <br>
                    <div id="profile-button-text-networks-mobile">Genk Networks</div>
                </span>
                <span class="btn btn-lg text-center route" id="network-route-mobile"
                    onclick="sidebarDisplayProfileHtmlId(this.id)">
                    <span>
                        <img class="svg" src="./assets/img/network.svg" />
                    </span>
                    <br>
                    <div id="profile-button-text-relaxed-mobile">Knooppunten</div>
                </span>
                <span class="btn btn-lg text-center route" id="fastest-route-mobile"
                    onclick="sidebarDisplayProfileHtmlId(this.id)">
                    <span>
                        <img class="svg" src="assets/img/fast.svg" />
                    </span>
                    <br>
                    <div id="profile-button-text-fast-mobile">Snel</div>
                </span>
            </div>
        </div>
    </div>


    <!-- The big map -->
    <div class="container-fluid  map-container">
        <div class="row">
            <div class="col-lg-12" style="padding: 0px 0px 0px 0px;">
                <div id='map' style='width: 100%; height: 100%'></div>
                <script>
                    mapboxgl.accessToken = mapboxAccessCode;
                    var map = new mapboxgl.Map({
                        container: 'map',
                        //style: 'mapbox://styles/ben-anyways/cjm7obna8e73u2rppk8pc49di',
                        //style: 'mapbox://styles/ben-anyways/cjs66aa5d27yv1ftdyq1kvlgr',
                        //style: 'mapbox://styles/ben-anyways/cj9zvkimu8wjl2spbq2ej7en0',
                        //style: 'mapbox://styles/ben-anyways/cjm7obefs14442sp63lworwqg',
                        //style: 'https://maps.tilehosting.com/styles/positron/style.json?key=RrAiXeTeoR4I64mRSxk8',
                        style: 'https://maps.tilehosting.com/c/57530131-c1b9-40f3-990b-a4ac7177ba23/styles/positron-cycling/style.json?key=RrAiXeTeoR4I64mRSxk8',
                        //style: './style/streets.json',
                        center: [5.5027, 50.9632], // starting position [lng, lat]
                        zoom: 14, // starting zoom
                        preserveDrawingBuffer: true
                    });
                </script>
            </div>
        </div>
    </div>


    <!-- Sidebar on the right-->
    <div id="sidebar-right-container" class="col-md-3 col-sm-12">
        <!-- Buttons on top: close button (only on mobile) -->
        <div class="container-fluid close-button-container">
            <div class="row">
                <div id="sidebar-top-spacer" class="col-12">
                    <span class="float-right">
                        <button class="btn-close btn-lg image-button" id="sidebarClose"
                            onclick="closeSidebar()"></button>
                    </span>
                </div>
            </div>
        </div>

        <!-- All the sidebar content -->
        <div id='sidebar-right-content'>
            <!-- Buttons selecting profile -->
            <div id='sidebar-top'>
                <span class="btn btn-lg text-center route" id="network-genk-route"
                    onclick="sidebarDisplayProfileHtmlId(this.id)">
                    <span>
                        <img class="svg" src="./assets/img/genk-networks.svg" />
                    </span>
                    <br>
                    <div id="profile-button-text-genk-network">Genk-netwerk</div>
                </span>
                <span class="btn btn-lg text-center route" id="network-route"
                    onclick="sidebarDisplayProfileHtmlId(this.id)">
                    <span>
                        <img class="svg" src="./assets/img/network.svg" />
                    </span>
                    <br>
                    <div id="profile-button-text-network">Knooppunten</div>
                </span>
                <span class="btn btn-lg text-center route" id="fastest-route"
                    onclick="sidebarDisplayProfileHtmlId(this.id)">
                    <span>
                        <img class="svg" src="assets/img/fast.svg" />
                    </span>
                    <br>
                    <div id="profile-button-text-fast">Snel</div>
                </span>
            </div>

            <!-- The actual content of the panes; three very similar pieces-->

            <!-- Fastest  -->
            <div id="fastest-summary" class="profile-summary height-zero">
                <div class="profile-summary-explanation">
                    <img class="svg" src="assets/img/fast.svg" />
                    <h5 class="sub-title">Dit is de snelste route.</h5>
                </div>
            </div>

            <div id="fastest-instruction" class="route-instructions height-zero">
                <div class="profile-explanation">
                    <div class="profile-explanation-overview">
                        <div class="instructions-resume">
                            <div class="distance">0 km</div>
                            <div>
                                <div class="time">0 min</div>
                                <div class="electricity-box" style="display: flex;">
                                    <img class="svg electricity" src="assets/img/electricity.svg"><span
                                        class="time-electric">0 min</span>
                                </div>
                            </div>
                        </div>
                        <p>
                            Dit is de snelste route.
                        </p>
                        <div class="download-button-back"
                            style="display: flex; align-items: center; margin-left: 30%; cursor: pointer"
                            onclick="exportCurrentRoute()">

                            <div class="download-button">
                                <img class="svg download" src="assets/img/download.svg" /><span>Download route</span>
                            </div>
                        </div>
                    </div>
                    <div class="container instructions">
                        <div class="row">
                            <div class="col-sm-1">
                                <div class="location-circle-container">
                                    <img class="svg location-circle" src="assets/img/circle.svg" />
                                    <div class="location-circle-centered">A</div>
                                </div>
                            </div>
                            <div class="col-sm-11 instructions-start table-instruction-text">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-1">
                                <div class="location-circle-container">
                                    <img class="svg location-circle" src="assets/img/circle.svg" />
                                    <div class="location-circle-centered">B</div>
                                </div>
                            </div>
                            <div class="col-sm-11 instructions-end table-instruction-text">
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <!-- network-genk -->
            <div id="network-genk-summary" class="profile-summary height-zero">
                <div class="profile-summary-explanation">
                    <img class="svg" src="assets/img/genk-networks.svg" />
                    <h5 class="sub-title">Dit is de Genk-netwerk route. Dit profiel geeft de voorkeur aan het
                        fietsnetwerk.</h5>

                </div>
                <span id="legend">
                    <!-- Actual content is seeded by a little script, see bottom --></span>
            </div>
            <div id="network-genk-instruction" class="route-instructions height-zero">
                <div class="profile-explanation">
                    <div class="profile-explanation-overview">
                        <div class="instructions-resume">
                            <div class="distance">0 km</div>
                            <div>
                                <div class="time">0 min</div>
                                <div class="electricity-box" style="display: flex;">
                                    <img class="svg electricity" src="assets/img/electricity.svg"><span
                                        class="time-electric">0 min</span>
                                </div>
                            </div>
                        </div>
                        <p>
                            Dit is de Genk-netwerk route. Dit profiel geeft de voorkeur aan het fietsnetwerk.
                        </p>
                        <div class="download-button-back"
                            style="display: flex; align-items: center; margin-left: 30%;; cursor: pointer"
                            onclick="exportCurrentRoute()">
                            <div class="download-button">
                                <img class="svg download" src="assets/img/download.svg" /><span>Download
                                    route</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="container instructions">
                    <div class="row">
                        <div class="col-sm-1">
                            <div class="location-circle-container">
                                <img class="svg location-circle" src="assets/img/circle.svg" />
                                <div class="location-circle-centered">A</div>
                            </div>
                        </div>
                        <div class="col-sm-11 instructions-start table-instruction-text">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-1">
                            <div class="location-circle-container">
                                <img class="svg location-circle" src="assets/img/circle.svg" />
                                <div class="location-circle-centered">B</div>
                            </div>
                        </div>
                        <div class="col-sm-11 instructions-end table-instruction-text">
                        </div>
                    </div>
                </div>
            </div>

            <!-- network -->
            <div id="network-summary" class="profile-summary height-zero">
                <div class="profile-summary-explanation">
                    <img class="svg" src="assets/img/network.svg" />
                    <h5 class="sub-title">Dit is de knooppunten-route. Dit profiel geeft de voorkeur aan het
                        knooppuntennetwerk.</h5>
                </div>
            </div>
            <div id="network-instruction" class="route-instructions height-zero">
                <div class="profile-explanation">
                    <div class="profile-explanation-overview">
                        <div class="instructions-resume">
                            <div class="distance">0 km</div>
                            <div>
                                <div class="time">0 min</div>
                                <div class="electricity-box" style="display: flex;">
                                    <img class="svg electricity" src="assets/img/electricity.svg"><span
                                        class="time-electric">0 min</span>
                                </div>
                            </div>
                        </div>
                        <p>
                            Dit is de knooppunten-route. Dit profiel geeft de voorkeur aan het knooppuntennetwerk.
                        </p>
                        <div class="download-button-back"
                            style="display: flex; align-items: center; margin-left: 30%;; cursor: pointer"
                            onclick="exportCurrentRoute()">
                            <div class="download-button">
                                <img class="svg download" src="assets/img/download.svg" /><span>Download
                                    route</span>
                            </div>
                        </div>
                    </div>
                </div>  
               
            </div>
            <div class="instructions-div">
                    <div class="container instructions">
                        <div class="row">
                            <div class="col-sm-1 instruction-icon">
                                <div class="location-circle-container">
                                    <img class="svg location-circle" src="assets/img/circle.svg" />
                                    <div class="location-circle-centered">A</div>
                                </div>
                            </div>
                            <div class="col-sm-9 instructions-start table-instruction-text">
                            </div>
                            <div class="col-sm-1 instruction-distance">
                                0km
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-1 instruction-icon">
                            </div>
                            <div class="col-sm-9">
                                Start zuidwest.
                            </div>
                            <div class="col-sm-1 instruction-distance">
                                0km
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-1 instruction-icon">
                                <img class="svg location-circle" src="assets/img/left.svg" />
                            </div>
                            <div class="col-sm-9">
                                Ga links op de Dijkstraat.
                            </div>
                            <div class="col-sm-1 instruction-distance">
                                0km
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-1 instruction-icon">
                                <img class="svg location-circle" src="assets/img/left.svg" />
                            </div>
                            <div class="col-sm-9">
                                Ga links op Heppenzeelestraat.
                            </div>
                            <div class="col-sm-1 instruction-distance">
                                0km
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-1 instruction-icon">
                                <img class="svg location-circle" src="assets/img/right.svg" />
                            </div>
                            <div class="col-sm-9">
                                Neem de 2de afrit op het volgende rondpunt.
                            </div>
                            <div class="col-sm-1 instruction-distance">
                                0km
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-1 instruction-icon">
                            </div>
                            <div class="col-sm-9">
                                U hebt uw bestemming bereikt.
                            </div>
                            <div class="col-sm-1 instruction-distance">
                                0km
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-1 instruction-icon">
                                <div class="location-circle-container">
                                    <img class="svg location-circle" src="assets/img/circle.svg" />
                                    <div class="location-circle-centered">B</div>
                                </div>
                            </div>
                            <div class="col-sm-9 instructions-end table-instruction-text">
                            </div>
                            <div class="col-sm-1 instruction-distance">
                                0km
                            </div>
                        </div>
                    </div>
                </div>    
        </div>
    </div>


    <div class="bottom-center-floating-buttons">
        <!-- This small piece provides the 'add to home page' functionality-->
        <!-- It is only visible on mobile -->
        <div style="position: relative; left: -50%;">
            <button id="btnAddToHomescreen" type="button" class="btn btn-warning"><img
                    src="./assets/img/add-to-home.svg" width="30px" /></button>
        </div>
    </div>
</body>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
    integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
    crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"
    integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T"
    crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.bundle.min.js"></script>
<script src="js/bootstrap3-typeahead.min.js"></script>
<script src="js/routeplanning.js"></script>
<script src="js/strings.js"></script>
<script src="js/uihelper.js"></script>
<script src="js/exportroute.js"></script>
<script>applyLanguage("nl");
    localStorage.lang = "nl";</script>


<script>
    // This scripts add the legend entries on the span with ID 'legend'"
    var element = document.getElementById("legend");

    // The data to add. Eventually, this can be changed to an overpass-query or external data set someday
    var routes = [{ ref: 1, name: "Diepenbeek en Havenlaan", colour: "#fce34b" }, // The yellow is darkened a little for readability
    { ref: 2, name: "Hasselt - Thorkpark", colour: "#35b1f4" },
    { ref: 3, name: "Bokrijk - Genk - Synaps - Kattevennen - Zutendaal", colour: "#24ef15" },
    { ref: 4, name: "Zonhoven - C-Mine Winterslag - Wiemesmeer", colour: "#efa639" },
    { ref: 5, name: "La Biomista - Zwartberg - Winterslag - Bilzen Noord", colour: "#d8863e" },
    { ref: 6, name: "Hoevenzavel - Zwartberg - Genk", colour: "#9837C1" }];


    function routeinfo(routeRef) {
        console.log("Clicked route information for " + routeRef);
    }


    var contents = "<table class='table table-sm table-borderless'><tbody>";


    for (var i in routes) {
        var route = routes[i];
        contents += "<tr onclick='routeinfo(" + route.ref + ")'><td><div class='legend-ref' style='background-color:" + route.colour + "'>" + route.ref + "</div></td><td><div class='legend-text'>" + route.name + "</div></td>"
    }

    contents += "</tbody></table>";
    element.innerHTML = "<h5>" + contents + "</h5>";

</script>

</html>